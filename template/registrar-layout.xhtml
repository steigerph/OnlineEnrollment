<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Registrar Portal</title>
        <h:outputStylesheet name="styles.css" library="css"/>
    </h:head>

    <h:body styleClass="layout-wrapper registrar-theme">

        <!-- Sidebar -->
        <aside class="sidebar">
            <h2 class="sidebar-title">ðŸ“˜ Registrar</h2>
            <nav class="nav-links">
                <p:link outcome="dashboard" value="ðŸ  Dashboard" styleClass="nav-item" />
                <p:link outcome="enrollment-list" value="ðŸ“‹ Enrollment List" styleClass="nav-item" />
                <p:link outcome="manage-records" value="ðŸ“„ Student Records" styleClass="nav-item" />
                <p:link outcome="reports" value="ðŸ“Š Reports" styleClass="nav-item" />
            </nav>

            <!-- User profile at bottom -->
            <div class="user-info">
                <h:outputText value="#{loginBean.user.fullname}" styleClass="user-name" />
                <p:commandLink value="âš™ï¸ Account Settings" onclick="PF('accountSettingsWidget').show();" styleClass="settings-link"/>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <header class="topbar">
                <span class="welcome">Welcome, #{loginBean.user.firstname}!</span>
                <h:form>
                    <p:commandButton value="Logout" action="#{loginBean.logout}" styleClass="logout-button"/>
                </h:form>
            </header>

            <!-- Dynamic Content -->
            <section class="page-body">
                <ui:insert name="content" />
            </section>

            <footer class="footer">
                &copy; 2025 College Enrollment System - Registrar Portal
            </footer>
        </main>

        <!-- Account Settings Dialog -->
        <ui:include src="/components/account-settings-dialog.xhtml" />

    </h:body>
</html>
